# ==========================================
# VERCEL DEPLOYMENT - ENVIRONMENT VARIABLES
# ==========================================
# This file contains all environment variables needed for deploying Sepulki Forge UI to Vercel.
# Add these variables in your Vercel project settings: https://vercel.com/dashboard/project/settings/environment-variables

# ==========================================
# DEPLOYMENT INFORMATION
# ==========================================
# Platform: Vercel
# Framework: Next.js 14.1.0
# Node Version: 18.18.0+
# Regions: US East (iad1) - configurable in vercel.json

# ==========================================
# CRITICAL: REQUIRED ENVIRONMENT VARIABLES
# ==========================================
# These MUST be set in Vercel dashboard for the deployment to work

# NextAuth.js Configuration (REQUIRED)
NEXTAUTH_URL=https://your-domain.vercel.app
NEXTAUTH_SECRET=<generate-with-openssl-rand-base64-32>

# GraphQL API Endpoint (REQUIRED)
# Point to your deployed Hammer Orchestrator service
# Options: Railway, Render, AWS, or other hosting
NEXT_PUBLIC_GRAPHQL_ENDPOINT=https://your-api-domain.com/graphql

# ==========================================
# API ENDPOINTS (REQUIRED)
# ==========================================

# REST API endpoint for file uploads and other operations
NEXT_PUBLIC_API_URL=https://your-api-domain.com

# WebSocket endpoint for GraphQL subscriptions (optional but recommended)
NEXT_PUBLIC_GRAPHQL_WS_URL=wss://your-api-domain.com/graphql

# ==========================================
# ISAAC SIM CONFIGURATION (REQUIRED)
# ==========================================
# AWS EC2 or cloud-hosted Isaac Sim instance

# Isaac Sim IP address (AWS EC2 public IP)
NEXT_PUBLIC_ISAAC_SIM_IP=18.234.83.45

# Isaac Sim WebSocket port
NEXT_PUBLIC_ISAAC_SIM_PORT=8211

# Isaac Sim WebSocket URL (auto-constructed if not provided)
NEXT_PUBLIC_ISAAC_SIM_WS_URL=ws://18.234.83.45:8211

# ==========================================
# VIDEO STREAMING (REQUIRED)
# ==========================================
# Video stream proxy service - deploy separately or use existing service
NEXT_PUBLIC_VIDEO_PROXY_URL=https://video-proxy.your-domain.com

# ==========================================
# AUTHENTICATION PROVIDERS
# ==========================================
# Configure OAuth providers for production authentication

# GitHub OAuth (Recommended for production)
# Create app at: https://github.com/settings/developers
# Callback URL: https://your-domain.vercel.app/api/auth/callback/github
GITHUB_CLIENT_ID=your-github-oauth-client-id
GITHUB_CLIENT_SECRET=your-github-oauth-client-secret

# Google OAuth (Optional)
# Create app at: https://console.cloud.google.com/apis/credentials
# Callback URL: https://your-domain.vercel.app/api/auth/callback/google
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret

# ==========================================
# STORAGE CONFIGURATION (OPTIONAL)
# ==========================================
# S3 or MinIO for file storage (blueprints, routes, etc.)

# AWS S3 Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
NEXT_PUBLIC_S3_BUCKET=sepulki-files
NEXT_PUBLIC_S3_ENDPOINT=https://s3.us-east-1.amazonaws.com

# Or MinIO Configuration (if self-hosted)
NEXT_PUBLIC_MINIO_ENDPOINT=https://minio.your-domain.com
NEXT_PUBLIC_MINIO_BUCKET=sepulki-files
MINIO_ACCESS_KEY=your-minio-access-key
MINIO_SECRET_KEY=your-minio-secret-key

# ==========================================
# OPENAI API (OPTIONAL)
# ==========================================
# For AI-powered features (task generation, natural language processing)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# OpenAI model configuration
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=2000

# ==========================================
# EMAIL SERVICE (OPTIONAL)
# ==========================================
# For email notifications and password resets

# SendGrid
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@your-domain.com

# Or AWS SES
AWS_SES_REGION=us-east-1
AWS_SES_FROM=noreply@your-domain.com

# Or custom SMTP
EMAIL_SERVER=smtp://smtp.gmail.com:587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-email-password

# ==========================================
# ERROR TRACKING (RECOMMENDED)
# ==========================================
# Sentry for production error tracking
# Create project at: https://sentry.io
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NEXT_PUBLIC_SENTRY_ENVIRONMENT=production
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# ==========================================
# ANALYTICS (OPTIONAL)
# ==========================================
# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID=UA-XXXXXXXXX-X

# PostHog Analytics
NEXT_PUBLIC_POSTHOG_KEY=your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ==========================================
# FEATURE FLAGS (OPTIONAL)
# ==========================================
NEXT_PUBLIC_ENABLE_EXPERIMENTAL_FEATURES=false
NEXT_PUBLIC_DEBUG_MODE=false
NEXT_PUBLIC_ENABLE_TELEMETRY=true
NEXT_PUBLIC_ENABLE_NOTIFICATIONS=true

# ==========================================
# CORS & SECURITY (PRODUCTION)
# ==========================================
# Allowed origins for API requests
NEXT_PUBLIC_ALLOWED_ORIGINS=https://your-domain.vercel.app,https://www.your-domain.com

# Content Security Policy
NEXT_PUBLIC_CSP_ENABLED=true

# Rate limiting (if using API routes)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# VERCEL-SPECIFIC VARIABLES
# ==========================================
# These are automatically set by Vercel, included here for reference

# Vercel deployment URL (auto-set)
# VERCEL_URL=<auto-detected-by-vercel>

# Vercel environment (auto-set)
# VERCEL_ENV=production|preview|development

# Vercel region (auto-set)
# VERCEL_REGION=iad1

# Git branch (auto-set)
# VERCEL_GIT_COMMIT_REF=main

# ==========================================
# ENVIRONMENT-SPECIFIC SETTINGS
# ==========================================

# Production Environment Variables
# Set these in: Vercel Dashboard → Project → Settings → Environment Variables → Production

# Preview Environment Variables (for PR previews)
# Set these in: Vercel Dashboard → Project → Settings → Environment Variables → Preview
# Use preview/staging endpoints for testing

# Development Environment Variables (local only)
# Set these in: Vercel Dashboard → Project → Settings → Environment Variables → Development
# These override values for `vercel dev` command

# ==========================================
# DEPLOYMENT NOTES
# ==========================================
# 1. All NEXT_PUBLIC_* variables are exposed to the browser
# 2. Server-only secrets (NEXTAUTH_SECRET, OPENAI_API_KEY) should NEVER use NEXT_PUBLIC_
# 3. Use different values for Production, Preview, and Development environments
# 4. Generate strong secrets: openssl rand -base64 32
# 5. Rotate secrets regularly
# 6. Use Vercel's built-in secrets for sensitive values
# 7. Enable "Automatically expose System Environment Variables" in Vercel dashboard
# 8. Test preview deployments before promoting to production

# ==========================================
# QUICK SETUP CHECKLIST
# ==========================================
# □ Generate NEXTAUTH_SECRET: openssl rand -base64 32
# □ Deploy Hammer Orchestrator backend (Railway/Render)
# □ Set NEXT_PUBLIC_GRAPHQL_ENDPOINT to backend URL
# □ Configure GitHub OAuth app (callback URL)
# □ Set GITHUB_CLIENT_ID and GITHUB_CLIENT_SECRET
# □ Configure Isaac Sim AWS instance (EC2 IP and port)
# □ Deploy video proxy service (optional)
# □ Set up S3 bucket or MinIO for file storage
# □ Configure Sentry for error tracking (recommended)
# □ Add custom domain in Vercel dashboard (optional)
# □ Enable automatic deployments from GitHub
# □ Set up preview deployments for pull requests
# □ Configure environment variables for each environment
# □ Test deployment with preview URL
# □ Promote to production domain

# ==========================================
# TROUBLESHOOTING
# ==========================================
# - If builds fail: Check Node version (>=18.18.0)
# - If API calls fail: Verify CORS settings on backend
# - If auth fails: Check NEXTAUTH_URL matches deployment URL
# - If images fail: Configure image domains in next.config.js
# - If WebSocket fails: Check WSS protocol for production
# - Build logs: Vercel Dashboard → Deployments → View Logs
# - Runtime logs: Vercel Dashboard → Project → Logs

# ==========================================
# SUPPORT RESOURCES
# ==========================================
# Vercel Documentation: https://vercel.com/docs
# Next.js Documentation: https://nextjs.org/docs
# NextAuth.js Documentation: https://next-auth.js.org
# Sepulki Documentation: /docs/DEPLOYMENT_PLATFORMS.md
